<Application
  x:Class="MermaidPad.App"
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:converters="clr-namespace:MermaidPad.Converters"
  xmlns:dock="clr-namespace:Dock.Avalonia.Controls;assembly=Dock.Avalonia"
  xmlns:panelsViewModels="clr-namespace:MermaidPad.ViewModels.Panels"
  xmlns:panelsViews="clr-namespace:MermaidPad.Views.Panels">

  <Application.Resources>
    <Color x:Key="RegionColor">Transparent</Color>
    <converters:BoolToStringConverter x:Key="BoolToStringConverter" />
    <converters:BoolToTooltipConverter x:Key="BoolToTooltipConverter" />
    <converters:InverseBoolToObjectConverter x:Key="InverseBoolToObjectConverter" />
  </Application.Resources>

  <!-- DataTemplates for Dock panels - maps ViewModels to Views -->
  <Application.DataTemplates>
    <DataTemplate DataType="panelsViewModels:EditorViewModel">
      <panelsViews:EditorPanel />
    </DataTemplate>
    <DataTemplate DataType="panelsViewModels:PreviewViewModel">
      <panelsViews:PreviewPanel />
    </DataTemplate>
    <DataTemplate DataType="panelsViewModels:AIPanelViewModel">
      <panelsViews:AIPanel />
    </DataTemplate>
  </Application.DataTemplates>

  <Application.Styles>
    <!-- ControlRecycling disabled - it can interfere with DataTemplate rendering in DockControl -->

    <!-- Include Dock.Avalonia theme (required for DockControl to render panels) -->
    <DockFluentTheme />
    <FluentTheme />
    <StyleInclude Source="avares://AvaloniaEdit/Themes/Fluent/AvaloniaEdit.xaml" />
    <StyleInclude Source="avares://MermaidPad/Resources/Styles/Styles.axaml" />
  </Application.Styles>
</Application>
